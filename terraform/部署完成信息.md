# âœ… CloudLens AWS éƒ¨ç½²å®Œæˆ

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

**éƒ¨ç½²æ—¶é—´**: 2026-01-23  
**åŒºåŸŸ**: æ—¥æœ¬ä¸œäº¬ (ap-northeast-1)

---

## ğŸ“Š éƒ¨ç½²ä¿¡æ¯

### EC2 å®ä¾‹
- **å®ä¾‹ID**: `i-07cd30c105006591c`
- **å…¬ç½‘IP**: `3.112.218.39`
- **ç§ç½‘IP**: `10.0.1.37`
- **SSHè¿æ¥**: 
  ```bash
  ssh -i ~/.ssh/cloudlens-key.pem ec2-user@3.112.218.39
  ```

### Application Load Balancer
- **ALB DNSåç§°**: `cloudlens-alb-1610761068.ap-northeast-1.elb.amazonaws.com`
- **ALB Zone ID**: `Z14GRHDCWA56QT`

### SSL è¯ä¹¦
- **è¯ä¹¦ARN**: `arn:aws:acm:ap-northeast-1:329435385384:certificate/caea7afc-9872-4710-8554-a55d2eafd14d`
- **åŸŸå**: `cloudlens.songqipeng.com`
- **çŠ¶æ€**: âœ… å·²åˆ›å»ºå¹¶éªŒè¯

### Route 53
- **æ‰˜ç®¡åŒºåŸŸID**: `Z039725227CYZSTY2S0XC`
- **åç§°æœåŠ¡å™¨**:
  - `ns-1251.awsdns-28.org`
  - `ns-1754.awsdns-27.co.uk`
  - `ns-401.awsdns-50.com`
  - `ns-657.awsdns-18.net`

---

## ğŸŒ é˜¿é‡Œäº‘ DNS é…ç½®

### é‡è¦è¯´æ˜

ç”±äºåŸŸå `songqipeng.com` åœ¨é˜¿é‡Œäº‘ç®¡ç†ï¼Œæ‚¨éœ€è¦ï¼š

1. **é…ç½® A è®°å½•**ï¼ˆæŒ‡å‘ ALBï¼‰:
   - è®°å½•ç±»å‹: `A`
   - ä¸»æœºè®°å½•: `cloudlens`
   - è®°å½•å€¼: `cloudlens-alb-1610761068.ap-northeast-1.elb.amazonaws.com`
   - **âš ï¸ é‡è¦**: é€‰æ‹©"åˆ«åè®°å½•"ï¼Œå¹¶å¡«å†™:
     - åˆ«åç›®æ ‡: `cloudlens-alb-1610761068.ap-northeast-1.elb.amazonaws.com`
     - åˆ«åç›®æ ‡åŒºåŸŸ: `ap-northeast-1` (æˆ–é€‰æ‹©"å…¨çƒ")

   **æˆ–è€…ä½¿ç”¨ CNAME**:
   - è®°å½•ç±»å‹: `CNAME`
   - ä¸»æœºè®°å½•: `cloudlens`
   - è®°å½•å€¼: `cloudlens-alb-1610761068.ap-northeast-1.elb.amazonaws.com`

2. **SSL è¯ä¹¦éªŒè¯è®°å½•**ï¼ˆå·²åœ¨ Route 53 è‡ªåŠ¨é…ç½®ï¼‰:
   - è¿™äº›è®°å½•åœ¨ AWS Route 53 ä¸­å·²è‡ªåŠ¨åˆ›å»º
   - å¦‚æœè¯ä¹¦éªŒè¯å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ç­‰å¾… DNS ä¼ æ’­

---

## âœ… ä¸‹ä¸€æ­¥æ“ä½œ

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# SSHè¿æ¥åˆ°å®ä¾‹
ssh -i ~/.ssh/cloudlens-key.pem ec2-user@3.112.218.39

# æ£€æŸ¥DockeræœåŠ¡
docker ps
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
cd /opt/cloudlens/app
docker-compose logs -f
```

### 2. é…ç½®é˜¿é‡Œäº‘ DNS

1. ç™»å½•é˜¿é‡Œäº‘åŸŸåæ§åˆ¶å°
2. æ‰¾åˆ° `songqipeng.com` åŸŸå
3. æ·»åŠ è§£æè®°å½•:
   - ç±»å‹: `CNAME` æˆ– `A` (åˆ«å)
   - ä¸»æœº: `cloudlens`
   - å€¼: `cloudlens-alb-1610761068.ap-northeast-1.elb.amazonaws.com`

### 3. ç­‰å¾… DNS ä¼ æ’­

DNS è®°å½•ç”Ÿæ•ˆé€šå¸¸éœ€è¦å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ã€‚

### 4. è®¿é—®åº”ç”¨

é…ç½®å®Œæˆåï¼Œè®¿é—®: `https://cloudlens.songqipeng.com`

---

## ğŸ”§ æœåŠ¡ç®¡ç†

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
ssh -i ~/.ssh/cloudlens-key.pem ec2-user@3.112.218.39
cd /opt/cloudlens/app
docker-compose ps
```

### é‡å¯æœåŠ¡

```bash
cd /opt/cloudlens/app
docker-compose restart
```

### æŸ¥çœ‹æ—¥å¿—

```bash
cd /opt/cloudlens/app
docker-compose logs -f backend
docker-compose logs -f frontend
```

---

## ğŸ“ æ•°æ®åº“ä¿¡æ¯

- **ç”¨æˆ·å**: `cloudlens`
- **æ•°æ®åº“**: `cloudlens`
- **å¯†ç **: å·²ä¿å­˜åœ¨ `/tmp/cloudlens_db_password.txt`ï¼ˆæœ¬åœ°ï¼‰
- **å¯†ç **: `nMmjHE6nJFi4j6oG6vEw`

---

## ğŸ”’ å®‰å…¨æé†’

1. **ä¿®æ”¹é»˜è®¤å¯†ç **: å»ºè®®ä¿®æ”¹æ•°æ®åº“å¯†ç 
2. **é™åˆ¶ SSH è®¿é—®**: ä¿®æ”¹å®‰å…¨ç»„ï¼Œé™åˆ¶ SSH ä¸ºç‰¹å®š IP
3. **å®šæœŸå¤‡ä»½**: é…ç½® EBS å¿«ç…§è‡ªåŠ¨å¤‡ä»½

---

## ğŸ’° æˆæœ¬ä¼°ç®—

- EC2 t3.medium: çº¦ Â¥4,500/æœˆ
- EBS 50GB: çº¦ Â¥600/æœˆ
- ALB: çº¦ Â¥2,400/æœˆ
- Route 53: çº¦ Â¥50/æœˆ
- **æ€»è®¡**: çº¦ Â¥7,550/æœˆ (~$50)

---

*éƒ¨ç½²å®Œæˆæ—¶é—´: 2026-01-23*
