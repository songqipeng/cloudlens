# 资源闲置阈值配置

# ECS实例阈值
ecs:
  # 有云监控插件的情况
  with_agent:
    cpu_utilization: 5          # CPU利用率低于5%
    memory_utilization: 20      # 内存利用率低于20%
    disk_iops: 100              # 磁盘IOPS低于100
    load_average_percent: 5     # Load Average低于vCPU的5%
    eip_bandwidth_percent: 10   # EIP带宽使用率低于峰值的10%
    disk_utilization: 20        # 磁盘利用率低于20%
  
  # 无云监控插件的情况
  without_agent:
    cpu_utilization: 5          # CPU利用率低于5%
    disk_iops: 100              # 磁盘IOPS低于100
    eip_bandwidth_percent: 10   # EIP带宽使用率低于峰值的10%

# RDS数据库阈值
rds:
  cpu_utilization: 10          # CPU利用率低于10%
  memory_utilization: 20        # 内存利用率低于20%
  connection_usage: 20          # 连接数使用率低于20%
  qps: 100                      # QPS低于100

# Redis缓存阈值
redis:
  cpu_utilization: 10          # CPU利用率低于10%
  memory_utilization: 20        # 内存利用率低于20%
  connection_usage: 20          # 连接数使用率低于20%

# MongoDB数据库阈值
mongodb:
  cpu_utilization: 10          # CPU利用率低于10%
  memory_utilization: 20        # 内存利用率低于20%
  disk_utilization: 20          # 磁盘利用率低于20%
  connection_utilization: 20   # 连接数使用率低于20%
  qps: 100                      # QPS低于100

# ClickHouse数据库阈值
clickhouse:
  cpu_utilization: 10          # CPU利用率低于10%
  memory_utilization: 20        # 内存利用率低于20%
  disk_utilization: 20          # 磁盘利用率低于20%
  connection_count: 10         # 连接数低于10
  query_count: 100             # 查询数低于100
  insert_count: 50             # 插入数低于50
  network_in_kbps: 1           # 网络入流量低于1KB/s
  network_out_kbps: 1          # 网络出流量低于1KB/s
  disk_read_iops: 100          # 磁盘读IOPS低于100
  disk_write_iops: 100         # 磁盘写IOPS低于100

# OSS对象存储阈值
oss:
  storage_capacity_gb: 1       # 存储容量低于1GB
  object_count: 100             # 对象数量低于100个
  total_request_count: 100      # 总请求数低于100次
  get_request_count: 50         # GET请求数低于50次
  put_request_count: 10         # PUT请求数低于10次

# SLB负载均衡阈值
slb:
  backend_server_count: 0          # 后端服务器数 <= 0
  traffic_mb_per_day: 10           # 日均流量 < 10MB
  active_connections: 10           # 活跃连接数 < 10
  new_connections_per_day: 100     # 日均新建连接 < 100

# EIP弹性公网IP阈值
eip:
  unbound: true                    # 未绑定时判定为闲置
  traffic_mb_total: 1              # 14天总流量 < 1MB
  bandwidth_usage: 5                # 带宽使用率 < 5%
  instance_stopped: true            # 绑定实例已停止时判定为闲置
