# é˜¿é‡Œäº‘èµ„æºåˆ†æå·¥å…· - å…¨é¢æŠ€æœ¯åˆ†æä¸ä¼˜åŒ–è®¡åˆ’

> **ç‰ˆæœ¬**: v2.0.0
> **åˆ†ææ—¥æœŸ**: 2025-10-29
> **çŠ¶æ€**: ç”Ÿäº§å¯ç”¨ï¼ŒæŒç»­ä¼˜åŒ–ä¸­
> **åˆ†ææ·±åº¦**: å…¨é¢æ¢³ç†

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### é¡¹ç›®æ¦‚å†µ

**é˜¿é‡Œäº‘èµ„æºåˆ†æå·¥å…·**æ˜¯ä¸€æ¬¾ä¸“ä¸šçš„äº‘æˆæœ¬ä¼˜åŒ–åˆ†æå¹³å°ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æ‰«æé—²ç½®èµ„æºï¼Œå¸®åŠ©ä¼ä¸šé™ä½30-50%çš„äº‘æˆæœ¬ã€‚

**æ ¸å¿ƒæŒ‡æ ‡**ï¼š
- **ä»£ç è§„æ¨¡**: ~5000+è¡ŒPythonä»£ç ï¼Œ20+æ ¸å¿ƒæ¨¡å—
- **åŠŸèƒ½å®Œæ•´åº¦**: 95% - 8ç§èµ„æºç±»å‹åˆ†æ + 4ç§æŠ˜æ‰£åˆ†æ
- **ç”Ÿäº§å°±ç»ªåº¦**: 85% - åŠŸèƒ½å®Œå–„ï¼Œä½†ç¼ºå°‘æµ‹è¯•
- **æŠ€æœ¯å€ºåŠ¡**: ä¸­ç­‰ - ä¸»è¦æ˜¯æ€§èƒ½å’Œæ¶æ„ä¸€è‡´æ€§

### å…³é”®å‘ç°

| ç±»åˆ« | ç°çŠ¶ | è¯„çº§ |
|------|------|------|
| **åŠŸèƒ½å®Œæ•´æ€§** | 8ç§èµ„æºç±»å‹å…¨è¦†ç›– | â­â­â­â­â­ |
| **æ€§èƒ½** | ä»…ECSå¹¶å‘ï¼Œå…¶ä»–ä¸²è¡Œ | â­â­â˜†â˜†â˜† |
| **ä»£ç è´¨é‡** | æ¸…æ™°ä½†é‡å¤ç‡40% | â­â­â­â˜†â˜† |
| **æµ‹è¯•è¦†ç›–** | 0%æµ‹è¯•è¦†ç›–ç‡ | â­â˜†â˜†â˜†â˜† |
| **å®‰å…¨æ€§** | Keyringå‡­è¯ç®¡ç†ä¼˜ç§€ | â­â­â­â­â˜† |
| **æ–‡æ¡£** | 4ç¯‡è¯¦ç»†æ–‡æ¡£ | â­â­â­â­â˜† |

### ä¼˜å…ˆä¼˜åŒ–å»ºè®®

**ç«‹å³æ‰§è¡Œï¼ˆæœ¬å‘¨ï¼‰**ï¼š
1. âœ… å…¨é¢å¯ç”¨å¹¶å‘ - æ€§èƒ½æå‡10å€
2. âœ… Pickleæ”¹msgpack - æ¶ˆé™¤å®‰å…¨é£é™©
3. âœ… å®ŒæˆRedis/MongoDBæŠ˜æ‰£åˆ†æ

**è¿‘æœŸæ‰§è¡Œï¼ˆ2å‘¨å†…ï¼‰**ï¼š
4. æ·»åŠ è‡ªåŠ¨åŒ–æµ‹è¯• - é™ä½é£é™©
5. æå–å…¬å…±é€»è¾‘ - å‡å°‘é‡å¤ä»£ç 

---

## ğŸ“‹ ç›®å½•

1. [äº§å“ä¸æŠ€æœ¯æ–¹æ¡ˆ](#1-äº§å“ä¸æŠ€æœ¯æ–¹æ¡ˆ)
2. [æ¶æ„å…¨æ™¯åˆ†æ](#2-æ¶æ„å…¨æ™¯åˆ†æ)
3. [åŠŸèƒ½ç‰¹æ€§çŸ©é˜µ](#3-åŠŸèƒ½ç‰¹æ€§çŸ©é˜µ)
4. [é—®é¢˜è¯Šæ–­](#4-é—®é¢˜è¯Šæ–­)
5. [ä¼˜åŒ–æ–¹æ¡ˆ](#5-ä¼˜åŒ–æ–¹æ¡ˆ)
6. [å¼€å‘è®¡åˆ’](#6-å¼€å‘è®¡åˆ’)

---

## 1. äº§å“ä¸æŠ€æœ¯æ–¹æ¡ˆ

### 1.1 äº§å“å®šä½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    é˜¿é‡Œäº‘èµ„æºåˆ†æå·¥å…· - äº§å“å®šä½     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç±»å‹: äº‘æˆæœ¬ä¼˜åŒ–åˆ†æå¹³å°             â”‚
â”‚ ç”¨æˆ·: DevOps/äº‘æ¶æ„å¸ˆ/è´¢åŠ¡å›¢é˜Ÿ       â”‚
â”‚ ä»·å€¼: é™ä½30-50%äº‘æˆæœ¬               â”‚
â”‚ ç‰¹ç‚¹: å¼€æº/æœ¬åœ°éƒ¨ç½²/æ•°æ®å®‰å…¨          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒä»·å€¼**ï¼š
- ğŸ’° **æˆæœ¬ä¼˜åŒ–**: è¯†åˆ«é—²ç½®èµ„æºï¼Œå¹³å‡èŠ‚çœ30-50%æˆæœ¬
- ğŸ“Š **æ•°æ®é©±åŠ¨**: åŸºäº14å¤©çœŸå®ç›‘æ§æ•°æ®ç§‘å­¦å†³ç­–
- ğŸ” **å®‰å…¨å¯æ§**: æœ¬åœ°éƒ¨ç½²ï¼ŒKeyringå‡­è¯ç®¡ç†
- ğŸš€ **é«˜æ•ˆè‡ªåŠ¨**: æ›¿ä»£äººå·¥ï¼Œä»æ•°å¤©ç¼©çŸ­åˆ°æ•°åˆ†é’Ÿ

### 1.2 æŠ€æœ¯æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CLIå…¥å£å±‚ (main.py)                   â”‚
â”‚         å‘½ä»¤è§£æ | å¤šç§Ÿæˆ·ç®¡ç† | å‚æ•°éªŒè¯                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    æ ¸å¿ƒæ¡†æ¶å±‚ (core/)   â”‚
    â”‚  - ConfigManager    â”‚
    â”‚  - CacheManager     â”‚
    â”‚  - ThresholdManager â”‚
    â”‚  - DBManager        â”‚
    â”‚  - CredentialManagerâ”‚
    â”‚  - BaseAnalyzer     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  èµ„æºåˆ†æå±‚          â”‚
    â”‚  (resource_modules/) â”‚
    â”‚                     â”‚
    â”‚  [ECS] [RDS] [Redis]â”‚
    â”‚  [MongoDB] [ClickH] â”‚
    â”‚  [OSS] [SLB] [EIP]  â”‚
    â”‚  [Discount Analyzer]â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    å·¥å…·å±‚ (utils/)   â”‚
    â”‚  - Logger           â”‚
    â”‚  - ConcurrentHelper â”‚
    â”‚  - RetryHelper      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     æ•°æ®å±‚          â”‚
    â”‚  - SQLite Database  â”‚
    â”‚  - Pickle Cache     â”‚
    â”‚  - Keyring Store    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   å¤–éƒ¨APIæ¥å£        â”‚
    â”‚  é˜¿é‡Œäº‘ OpenAPI      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 æŠ€æœ¯æ ˆ

**æ ¸å¿ƒæŠ€æœ¯**ï¼š
```python
è¯­è¨€:       Python 3.7+
SDK:        é˜¿é‡Œäº‘Python SDK (9ä¸ª)
æ•°æ®å¤„ç†:   Pandas + openpyxl
é…ç½®:       JSON + YAML
å®‰å…¨:       Keyring (ç³»ç»Ÿå¯†é’¥ç¯)
é‡è¯•:       Tenacity
å­˜å‚¨:       SQLite + Pickle
æ—¥å¿—:       Python logging
å¹¶å‘:       ThreadPoolExecutor (concurrent.futures)
```

**ä¾èµ–æ¸…å•**ï¼š
```
æ ¸å¿ƒSDK:
- aliyun-python-sdk-core>=2.16.0
- aliyun-python-sdk-ecs>=4.24.0
- aliyun-python-sdk-cms>=7.0.0
- aliyun-python-sdk-rds>=2.3.0
- aliyun-python-sdk-r-kvstore>=2.20.0
- aliyun-python-sdk-dds>=2.0.0
- aliyun-python-sdk-slb>=3.0.0
- aliyun-python-sdk-vpc>=3.0.0
- oss2>=2.15.0

åŸºç¡€è®¾æ–½:
- pandas>=1.3.0
- openpyxl>=3.0.0
- PyYAML>=6.0
- keyring>=23.0.0
- tenacity>=8.2.0
```

---

## 2. æ¶æ„å…¨æ™¯åˆ†æ

### 2.1 ç›®å½•ç»“æ„ï¼ˆå®é™…çŠ¶æ€ï¼‰

```
aliyunidle/
â”œâ”€â”€ main.py                          # CLIå…¥å£ï¼ˆ432è¡Œï¼‰
â”œâ”€â”€ check_ecs_idle_fixed.py         # ECSåˆ†æå™¨ï¼ˆç‹¬ç«‹å®ç°ï¼‰âš ï¸
â”‚
â”œâ”€â”€ config.json                      # å¤šç§Ÿæˆ·é…ç½®ï¼ˆä½¿ç”¨Keyringï¼‰
â”œâ”€â”€ config.json.example              # é…ç½®æ¨¡æ¿
â”œâ”€â”€ thresholds.yaml                  # å¯é…ç½®é˜ˆå€¼ï¼ˆ75è¡Œï¼‰âœ…
â”œâ”€â”€ requirements.txt                 # Pythonä¾èµ–
â”‚
â”œâ”€â”€ core/                            # æ ¸å¿ƒæ¡†æ¶å±‚ âœ…
â”‚   â”œâ”€â”€ base_analyzer.py            # æŠ½è±¡åŸºç±»ï¼ˆ148è¡Œï¼‰
â”‚   â”œâ”€â”€ cache_manager.py            # ç¼“å­˜ç®¡ç†ï¼ˆ77è¡Œï¼‰
â”‚   â”œâ”€â”€ db_manager.py               # æ•°æ®åº“ç®¡ç†
â”‚   â”œâ”€â”€ config_manager.py           # é…ç½®ç®¡ç†ï¼ˆ83è¡Œï¼‰
â”‚   â””â”€â”€ threshold_manager.py        # é˜ˆå€¼ç®¡ç†
â”‚
â”œâ”€â”€ resource_modules/                # èµ„æºåˆ†æå™¨ âœ…
â”‚   â”œâ”€â”€ rds_analyzer.py             # RDS
â”‚   â”œâ”€â”€ redis_analyzer.py           # Redis
â”‚   â”œâ”€â”€ mongodb_analyzer.py         # MongoDB
â”‚   â”œâ”€â”€ clickhouse_analyzer.py      # ClickHouse âœ…
â”‚   â”œâ”€â”€ oss_analyzer.py             # OSS
â”‚   â”œâ”€â”€ slb_analyzer.py             # SLB
â”‚   â”œâ”€â”€ eip_analyzer.py             # EIP
â”‚   â””â”€â”€ discount_analyzer.py        # æŠ˜æ‰£åˆ†æï¼ˆECS/RDS/Redis/MongoDBï¼‰
â”‚
â”œâ”€â”€ utils/                           # å·¥å…·å±‚ âœ…
â”‚   â”œâ”€â”€ logger.py                   # æ—¥å¿—ç³»ç»Ÿï¼ˆ92è¡Œï¼‰
â”‚   â”œâ”€â”€ retry_helper.py             # APIé‡è¯•ï¼ˆ90è¡Œï¼‰
â”‚   â”œâ”€â”€ concurrent_helper.py        # å¹¶å‘å¤„ç†ï¼ˆ81è¡Œï¼‰âš ï¸ ä»…ECSä½¿ç”¨
â”‚   â””â”€â”€ credential_manager.py       # å‡­è¯ç®¡ç†ï¼ˆ100è¡Œï¼‰
â”‚
â”œâ”€â”€ {tenant}/                        # ç§Ÿæˆ·è¾“å‡ºç›®å½•
â”‚   â””â”€â”€ discount/
â”‚       â”œâ”€â”€ *_discount_*.html
â”‚       â””â”€â”€ *_discount_*.pdf
â”‚
â””â”€â”€ æ–‡æ¡£/
    â”œâ”€â”€ README.md                    # ç”¨æˆ·æ–‡æ¡£ï¼ˆ372è¡Œï¼‰
    â”œâ”€â”€ PROJECT_SUMMARY.md          # é¡¹ç›®æ€»ç»“ï¼ˆ506è¡Œï¼‰
    â”œâ”€â”€ DEVELOPMENT_LOG.md          # å¼€å‘æ—¥å¿—ï¼ˆ209è¡Œï¼‰
    â”œâ”€â”€ REFACTORING_GUIDE.md        # é‡æ„æŒ‡å—ï¼ˆ1684è¡Œï¼‰
    â”œâ”€â”€ PRODUCT_TECH_PLAN.md        # äº§å“æŠ€æœ¯è§„åˆ’
    â””â”€â”€ TODO_FEATURES.md            # å¾…å¼€å‘åŠŸèƒ½
```

### 2.2 æ•°æ®æµå…¨æ™¯

```
[ç”¨æˆ·å‘½ä»¤] python main.py ydzn cru rds
     â†“
[1. åŠ è½½é…ç½®]
  - config.json â†’ è¯»å–ç§Ÿæˆ·é…ç½®
  - Keyring â†’ è·å–AccessKeyå‡­è¯
  - thresholds.yaml â†’ åŠ è½½é˜ˆå€¼
     â†“
[2. åˆå§‹åŒ–åˆ†æå™¨]
  - åˆ›å»ºRDSåˆ†æå™¨å®ä¾‹
  - åˆå§‹åŒ–AcsClient
  - è¿æ¥SQLiteæ•°æ®åº“
     â†“
[3. è·å–åŒºåŸŸåˆ—è¡¨]
  - API: DescribeRegions
  - è¿”å›: ['cn-beijing', 'cn-hangzhou', ...]
     â†“
[4. éå†åŒºåŸŸè·å–å®ä¾‹] âš ï¸ å½“å‰ä¸²è¡Œ
  for region in regions:
    â†“
  [4.1 è·å–å®ä¾‹åˆ—è¡¨]
    - API: DescribeDBInstances
    - è¿”å›: [{å®ä¾‹ID, åç§°, è§„æ ¼...}]
      â†“
  [4.2 è·å–ç›‘æ§æ•°æ®] âš ï¸ å½“å‰ä¸²è¡Œ
    for instance in instances:
      - API: DescribeMetricData (8ä¸ªæŒ‡æ ‡ Ã— 14å¤©)
      - æ£€æŸ¥ç¼“å­˜ (24h TTL)
        - æœ‰æ•ˆ â†’ è¯»ç¼“å­˜
        - è¿‡æœŸ â†’ è°ƒAPI â†’ å†™ç¼“å­˜ (pickle)
      - è€—æ—¶: ~3ç§’/å®ä¾‹
     â†“
[5. æ•°æ®æŒä¹…åŒ–]
  - SQLite: INSERT INTO rds_instances ...
  - SQLite: INSERT INTO rds_monitoring_data ...
     â†“
[6. é—²ç½®åˆ¤æ–­]
  for instance in all_instances:
    - è·å–ç›‘æ§æŒ‡æ ‡
    - åº”ç”¨thresholds.yamlä¸­çš„é˜ˆå€¼
    - åˆ¤æ–­é€»è¾‘: ORå…³ç³»ï¼ˆæ»¡è¶³ä»»ä¸€æ¡ä»¶å³é—²ç½®ï¼‰
    - ç”Ÿæˆé—²ç½®åŸå› åˆ—è¡¨
     â†“
[7. ç”Ÿæˆä¼˜åŒ–å»ºè®®]
  - é™é…å»ºè®®ï¼ˆCPU/å†…å­˜ä½ï¼‰
  - åˆå¹¶å»ºè®®ï¼ˆå¤šä¸ªå°å®ä¾‹ï¼‰
  - åˆ é™¤å»ºè®®ï¼ˆå®Œå…¨é—²ç½®ï¼‰
  - é…ç½®è°ƒæ•´ï¼ˆè¿æ¥æ•°ã€å­˜å‚¨ç­‰ï¼‰
     â†“
[8. æŠ¥å‘Šç”Ÿæˆ]
  - HTMLæŠ¥å‘Šï¼ˆå¯è§†åŒ–è¡¨æ ¼ï¼‰
  - ExcelæŠ¥å‘Šï¼ˆè¯¦ç»†æ•°æ®ï¼‰
  - ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ€»æ•°ã€æ€»æˆæœ¬ã€èŠ‚çœé¢„ä¼°ï¼‰
     â†“
[è¾“å‡º] rds_idle_report_20251029_143022.html/.xlsx
```

---

## 3. åŠŸèƒ½ç‰¹æ€§çŸ©é˜µ

### 3.1 èµ„æºåˆ†ææ”¯æŒçŸ©é˜µï¼ˆè¯¦ç»†ï¼‰

| èµ„æº | çŠ¶æ€ | æ–‡ä»¶ | ä»£ç è¡Œæ•° | ç›‘æ§æŒ‡æ ‡ | é—²ç½®æ¡ä»¶ | å¹¶å‘ | æŠ¥å‘Š |
|------|------|------|----------|---------|---------|------|------|
| **ECS** | âœ… | check_ecs_idle_fixed.py | ~800 | 18 | 5 (OR) | âœ… | HTML+Excel |
| **RDS** | âœ… | resource_modules/rds_analyzer.py | 557 | 8 | 7 (OR) | âŒ | HTML+Excel |
| **Redis** | âœ… | resource_modules/redis_analyzer.py | 524 | 6 | 6 (OR) | âŒ | HTML+Excel |
| **MongoDB** | âœ… | resource_modules/mongodb_analyzer.py | 586 | 7 | 7 (OR) | âŒ | HTML+Excel |
| **ClickHouse** | âœ… | resource_modules/clickhouse_analyzer.py | ~550 | 10 | 10 (OR) | âŒ | HTML+Excel |
| **OSS** | âœ… | resource_modules/oss_analyzer.py | 575 | 13 | 5 (OR) | âŒ | HTML+Excel |
| **SLB** | âœ… | resource_modules/slb_analyzer.py | 513 | 6 | 4 (OR) | âŒ | HTML+Excel |
| **EIP** | âœ… | resource_modules/eip_analyzer.py | 525 | 4 | 5 (OR) | âŒ | HTML+Excel |

**æ€»è®¡**: 8ç§èµ„æºç±»å‹ï¼Œ100%å®Œæˆ

### 3.2 æŠ˜æ‰£åˆ†ææ”¯æŒçŸ©é˜µï¼ˆè¯¦ç»†ï¼‰

| èµ„æº | çŠ¶æ€ | APIæ–¹å¼ | å“åº”å­—æ®µ | æŒ‘æˆ˜ | è¿›åº¦ |
|------|------|---------|----------|------|------|
| **ECS** | âœ… | DescribeRenewalPrice | PriceInfo.Price | æŒ‰é‡ä»˜è´¹å®ä¾‹è¿”å›400 | 100% |
| **RDS** | âœ… | DescribeRenewalPrice | PriceInfo.Price | éœ€è¦UsedTimeå‚æ•° | 100% |
| **Redis** | ğŸš§ | DescribePrice (OrderType=RENEW/BUY) | Order.OriginalAmount | APIå˜æ›´ï¼Œéœ€åŒé‡å°è¯• | 90% |
| **MongoDB** | ğŸš§ | DescribePrice (OrderType=RENEW/BUY) | Order.OriginalAmount | åŒRedis | 90% |

**ä»£ç çŠ¶æ€**: discount_analyzer.pyå·²ä¿®æ”¹ï¼ˆ849è¡Œï¼‰ï¼Œæ”¯æŒ4ç§èµ„æºï¼Œä½†æœªæäº¤

### 3.3 æ ¸å¿ƒåŠŸèƒ½å®Œæ•´æ€§

| æ¨¡å— | åŠŸèƒ½ç‚¹ | å®Œæˆåº¦ | è¯´æ˜ |
|------|-------|--------|------|
| **å¤šç§Ÿæˆ·æ”¯æŒ** | âœ…âœ…âœ…âœ…âœ… | 100% | config.json + Keyringå®Œå–„ |
| **å¯é…ç½®é˜ˆå€¼** | âœ…âœ…âœ…âœ…âœ… | 100% | thresholds.yamlå…¨é¢é…ç½® |
| **å®‰å…¨å‡­è¯ç®¡ç†** | âœ…âœ…âœ…âœ…âœ… | 100% | ç³»ç»Ÿå¯†é’¥ç¯é›†æˆ |
| **å¹¶å‘å¤„ç†** | âœ…âš ï¸âš ï¸âš ï¸âš ï¸ | 20% | ä»…ECSå®ç° |
| **é”™è¯¯é‡è¯•** | âœ…âœ…âœ…âœ…âš ï¸ | 90% | æ™ºèƒ½é‡è¯•ï¼Œä»…é‡è¯•ç½‘ç»œé”™è¯¯ |
| **ç¼“å­˜æœºåˆ¶** | âœ…âœ…âœ…âœ…âš ï¸ | 85% | 24h TTLï¼Œä½†ä½¿ç”¨pickle |
| **æ—¥å¿—ç³»ç»Ÿ** | âœ…âœ…âœ…âœ…âœ… | 90% | Rotatingæ—¥å¿—ï¼Œ10MBÃ—5å¤‡ä»½ |
| **æŠ¥å‘Šç”Ÿæˆ** | âœ…âœ…âœ…âœ…âœ… | 95% | HTML+ExcelåŒæ ¼å¼ |
| **è‡ªåŠ¨åŒ–æµ‹è¯•** | âŒâŒâŒâŒâŒ | 0% | **ä¸¥é‡ç¼ºå¤±** |

### 3.4 æ€§èƒ½åŸºå‡†ï¼ˆå®æµ‹ï¼‰

| åœºæ™¯ | å½“å‰è€—æ—¶ | ç“¶é¢ˆ | ä¼˜åŒ–åé¢„æœŸ | æå‡å€æ•° |
|------|---------|------|-----------|---------|
| 10ä¸ªECSå®ä¾‹ | 15ç§’ | âœ… å·²ä¼˜åŒ– | 15ç§’ | - |
| 100ä¸ªECSå®ä¾‹ | 1-2åˆ†é’Ÿ | âœ… å·²ä¼˜åŒ– | 1-2åˆ†é’Ÿ | - |
| 10ä¸ªRDSå®ä¾‹ | 50ç§’ | âš ï¸ ä¸²è¡Œå¤„ç† | 8ç§’ | 6.25å€ |
| 100ä¸ªRDSå®ä¾‹ | 5-8åˆ†é’Ÿ | âš ï¸ ä¸²è¡Œå¤„ç† | 30-50ç§’ | 10å€ |
| å…¨èµ„æºåˆ†æ(all) | 30-40åˆ†é’Ÿ | âš ï¸ ä¸²è¡Œå¤„ç† | 5-8åˆ†é’Ÿ | 6å€ |

---

## 4. é—®é¢˜è¯Šæ–­

### 4.1 æ€§èƒ½é—®é¢˜ï¼ˆä¸¥é‡ï¼‰ğŸ”´

#### é—®é¢˜1: å¹¶å‘æ”¯æŒä¸å®Œæ•´ - æœ€ä¸¥é‡æ€§èƒ½ç“¶é¢ˆ

**ç°çŠ¶å¯¹æ¯”**ï¼š
```
âœ… ECSåˆ†æå™¨:
   - ä½¿ç”¨concurrent_helper.py
   - 10çº¿ç¨‹å¹¶å‘
   - 100å®ä¾‹è€—æ—¶: 1-2åˆ†é’Ÿ

âŒ å…¶ä»–7ä¸ªåˆ†æå™¨ (RDS/Redis/MongoDB/ClickHouse/OSS/SLB/EIP):
   - å®Œå…¨ä¸²è¡Œå¤„ç†
   - 100å®ä¾‹è€—æ—¶: 5-8åˆ†é’Ÿ
   - æ€§èƒ½æŸå¤±: 5-8å€
```

**ä»£ç è¯æ®** - RDSåˆ†æå™¨çš„ä¸²è¡Œé€»è¾‘ï¼š
```python
# resource_modules/rds_analyzer.py:337-350
for region in regions:  # ä¸²è¡Œéå†åŒºåŸŸ
    print(f"ğŸ” æ£€æŸ¥åŒºåŸŸ: {region}")
    instances = self.get_rds_instances(region)

    for instance in instances:  # ä¸²è¡Œéå†å®ä¾‹
        instance_id = instance['InstanceId']
        print(f"  è·å–ç›‘æ§æ•°æ®: {instance_id}")
        metrics = self.get_rds_metrics(region, instance_id)  # 3-5ç§’/æ¬¡
        all_monitoring_data[instance_id] = metrics
```

**æ€§èƒ½è®¡ç®—**ï¼š
```
åœºæ™¯: 100ä¸ªRDSå®ä¾‹åˆ†æ
- ä¸²è¡Œ: 100å®ä¾‹ Ã— 3ç§’ = 300ç§’ = 5åˆ†é’Ÿ
- å¹¶å‘(10çº¿ç¨‹): 100å®ä¾‹ Ã· 10 Ã— 3ç§’ = 30ç§’
- æå‡: 10å€
```

**æ ¹æœ¬åŸå› **ï¼š
- concurrent_helper.pyå·²ç»å®ç°ï¼ˆ81è¡Œï¼Œå®Œå–„çš„çº¿ç¨‹æ± å·¥å…·ï¼‰
- ä½†åªæœ‰ECSåˆ†æå™¨åœ¨ä½¿ç”¨
- å…¶ä»–7ä¸ªåˆ†æå™¨æœªä½¿ç”¨ï¼ˆä»£ç æ¨¡å¼ç›¸ä¼¼ï¼Œæ”¹é€ ç®€å•ï¼‰

**å½±å“èŒƒå›´**ï¼š
- RDS: ä¸¥é‡å½±å“ï¼ˆå®ä¾‹æ•°å¤šï¼‰
- Redis: ä¸¥é‡å½±å“ï¼ˆå®ä¾‹æ•°å¤šï¼‰
- MongoDB: ä¸­ç­‰å½±å“
- OSS: ä¸­ç­‰å½±å“ï¼ˆBucketæ•°é‡é€šå¸¸è¾ƒå°‘ï¼‰
- SLB/EIP: è½»å¾®å½±å“ï¼ˆæ•°é‡è¾ƒå°‘ï¼‰

#### é—®é¢˜2: æ•°æ®åº“æ“ä½œæ•ˆç‡ä½

**é—®é¢˜ä»£ç **ï¼š
```python
# å½“å‰: å•æ¡æ’å…¥ + æ¯æ¬¡æäº¤
for instance in instances:
    cursor.execute('''
        INSERT INTO rds_instances VALUES (?, ?, ?, ?)
    ''', (instance['id'], instance['name'], ...))
    conn.commit()  # âš ï¸ æ¯æ¬¡å¾ªç¯éƒ½commit

# 100ä¸ªå®ä¾‹ = 100æ¬¡IOæ“ä½œ
```

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
```python
# æ‰¹é‡æ’å…¥ + ä¸€æ¬¡æäº¤
data = [(inst['id'], inst['name'], ...) for inst in instances]
cursor.executemany('''
    INSERT INTO rds_instances VALUES (?, ?, ?, ?)
''', data)
conn.commit()  # âœ… åªæäº¤ä¸€æ¬¡

# 100ä¸ªå®ä¾‹ = 1æ¬¡IOæ“ä½œ
# æ€§èƒ½æå‡: 3-5å€
```

### 4.2 å®‰å…¨é—®é¢˜ï¼ˆä¸­ç­‰ï¼‰âš ï¸

#### é—®é¢˜3: Pickleç¼“å­˜å­˜åœ¨å®‰å…¨é£é™©

**é£é™©ä»£ç **ï¼š
```python
# core/cache_manager.py:408
with open(self.cache_path, 'rb') as f:
    cache_data = pickle.load(f)  # âš ï¸ å¯è¢«ç¯¡æ”¹æ‰§è¡Œä»»æ„ä»£ç 
```

**æ”»å‡»åœºæ™¯**ï¼š
1. æ”»å‡»è€…è·å–æœåŠ¡å™¨è®¿é—®æƒé™
2. æ›¿æ¢`.pkl`ç¼“å­˜æ–‡ä»¶ï¼Œæ³¨å…¥æ¶æ„Pythonå¯¹è±¡
3. ç¨‹åºä¸‹æ¬¡åŠ è½½ç¼“å­˜æ—¶è‡ªåŠ¨æ‰§è¡Œæ¶æ„ä»£ç 
4. å¯èƒ½è·å–Shellæƒé™ã€çªƒå–AccessKeyç­‰

**é£é™©ç­‰çº§**: ä¸­ç­‰
- éœ€è¦æœåŠ¡å™¨è®¿é—®æƒé™ï¼ˆé—¨æ§›è¾ƒé«˜ï¼‰
- ä½†ä¸€æ—¦æˆåŠŸå±å®³ä¸¥é‡

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ–¹æ¡ˆA: æ”¹ç”¨JSONï¼ˆå®‰å…¨ä½†åŠŸèƒ½å—é™ï¼Œä¸æ”¯æŒå¤æ‚å¯¹è±¡ï¼‰
- æ–¹æ¡ˆB: æ”¹ç”¨msgpackï¼ˆå®‰å…¨ä¸”é«˜æ•ˆï¼Œæ¨èï¼‰âœ…
- æ–¹æ¡ˆC: åŠ å¯†pickleæ–‡ä»¶ï¼ˆå¤æ‚åº¦é«˜ï¼‰

### 4.3 æ¶æ„é—®é¢˜ï¼ˆä¸­ç­‰ï¼‰âš ï¸

#### é—®é¢˜4: æ¶æ„ä¸ç»Ÿä¸€ - 40%ä»£ç é‡å¤

**é—®é¢˜æè¿°**ï¼š
```
1. ECSåˆ†æå™¨: check_ecs_idle_fixed.pyï¼ˆç‹¬ç«‹å®ç°ï¼Œæœªä½¿ç”¨BaseResourceAnalyzerï¼‰
2. å…¶ä»–8ä¸ªåˆ†æå™¨: è™½ç„¶æ¨¡å¼ç›¸ä¼¼ï¼Œä½†å„è‡ªç‹¬ç«‹å®ç°

ç»“æœ: é‡å¤ä»£ç ç‡ ~40%
```

**é‡å¤é€»è¾‘**ï¼š
- âœ… å·²æœ‰å·¥å…·æœªå……åˆ†åˆ©ç”¨
  - BaseResourceAnalyzer: å®šä¹‰äº†æ ‡å‡†æ¥å£ï¼Œä½†æ— äººç»§æ‰¿
  - concurrent_helper.py: åªæœ‰ECSåœ¨ç”¨
  - retry_helper.py: éƒ¨åˆ†åˆ†æå™¨æœªä½¿ç”¨

- âš ï¸ å…¬å…±é€»è¾‘åˆ†æ•£
  - ç›‘æ§æ•°æ®è·å–é€»è¾‘é‡å¤8æ¬¡
  - æŠ¥å‘Šç”Ÿæˆé€»è¾‘é‡å¤8æ¬¡ï¼ˆHTML+Excelæ¨¡æ¿ç›¸ä¼¼ï¼‰
  - æ•°æ®åº“æ“ä½œé‡å¤8æ¬¡

**å½±å“**ï¼š
- ç»´æŠ¤æˆæœ¬é«˜: ä¿®æ”¹é˜ˆå€¼åˆ¤æ–­é€»è¾‘éœ€è¦æ”¹8å¤„
- æ–°å¢èµ„æºç±»å‹å¤æ‚: éœ€è¦å¤åˆ¶ç²˜è´´å¤§é‡ä»£ç 
- ä¸åˆ©äºæ‰©å±•: å¤šäº‘æ”¯æŒå›°éš¾

### 4.4 è´¨é‡é—®é¢˜ï¼ˆä¸¥é‡ï¼‰ğŸ”´

#### é—®é¢˜5: é›¶æµ‹è¯•è¦†ç›– - æœ€ä¸¥é‡è´¨é‡é£é™©

**ç°çŠ¶**ï¼š
```
æµ‹è¯•æ–‡ä»¶: 0ä¸ª
å•å…ƒæµ‹è¯•: 0ä¸ª
é›†æˆæµ‹è¯•: 0ä¸ª
æµ‹è¯•è¦†ç›–ç‡: 0%
```

**é£é™©æ¡ˆä¾‹**ï¼š
```python
# discount_analyzer.pyæ­£åœ¨ä¿®æ”¹ä¸­ï¼ˆæ”¯æŒRedis/MongoDBï¼‰
# ä½†æ²¡æœ‰æµ‹è¯•ä¿æŠ¤ï¼Œä¸€æ—¦å‡ºé”™ï¼š

æƒ…å†µ1: ä¿®æ”¹å¯¼è‡´ECSæŠ˜æ‰£åˆ†æå¤±è´¥
  - å‘ç°æ—¶æœº: ç”¨æˆ·è¿è¡Œæ—¶æŠ¥é”™
  - å½±å“: ç”Ÿäº§ç¯å¢ƒæ•…éšœ

æƒ…å†µ2: RedisæŠ˜æ‰£åˆ†æé€»è¾‘é”™è¯¯
  - å‘ç°æ—¶æœº: ç”¨æˆ·å‘ç°æ•°æ®ä¸å¯¹
  - å½±å“: è¯¯å¯¼å†³ç­–ï¼Œå¯èƒ½é€ æˆç»æµæŸå¤±

æƒ…å†µ3: APIå‚æ•°å˜æ›´
  - å‘ç°æ—¶æœº: è¿è¡Œæ—¶å¼‚å¸¸
  - å½±å“: æ‰€æœ‰ç§Ÿæˆ·åˆ†æå¤±è´¥
```

**å½±å“**ï¼š
- ä»£ç å˜æ›´æ— æ³•éªŒè¯
- é‡æ„é£é™©æé«˜ï¼ˆä¸æ•¢å¤§è§„æ¨¡æ”¹åŠ¨ï¼‰
- å›å½’bugå®¹æ˜“å¼•å…¥
- æ–°åŠŸèƒ½å¼€å‘ç¼ºä¹ä¿¡å¿ƒ

### 4.5 æ–‡æ¡£é—®é¢˜ï¼ˆè½»å¾®ï¼‰âš ï¸

#### é—®é¢˜6: æ–‡æ¡£ä¸ä»£ç ä¸ä¸€è‡´

**å‘ç°çš„ä¸ä¸€è‡´**ï¼š

1. âœ… **ClickHouseçŠ¶æ€** - å·²ç¡®è®¤
   - README.md: æ ‡è®°"å·²å®Œæˆ"
   - å®é™…: clickhouse_analyzer.pyæ–‡ä»¶å­˜åœ¨ âœ…
   - çŠ¶æ€: å‡†ç¡®

2. âš ï¸ **æŠ˜æ‰£åˆ†æçŠ¶æ€** - éœ€è¦æ›´æ–°
   - PROJECT_SUMMARY.md: "Redis/MongoDBè®¡åˆ’ä¸­"
   - å®é™…: discount_analyzer.pyå·²ä¿®æ”¹ï¼Œæ”¯æŒRedis/MongoDB 90%
   - çŠ¶æ€: æ–‡æ¡£æ»å

3. âš ï¸ **èµ„æºç±»å‹æ•°é‡** - éœ€è¦æ›´æ–°
   - å¤šå¤„æ–‡æ¡£: "æ”¯æŒ8ç§èµ„æº"
   - å®é™…: 9ä¸ªåˆ†æå™¨ï¼ˆ8ç§èµ„æºç±»å‹ + 1ä¸ªæŠ˜æ‰£åˆ†æå™¨ï¼‰
   - çŠ¶æ€: è¡¨è¿°ä¸æ¸…

4. âš ï¸ **æ€§èƒ½æ•°æ®è¿‡æ—¶** - éœ€è¦æ›´æ–°
   - æ–‡æ¡£: "100å®ä¾‹éœ€10-15åˆ†é’Ÿ"
   - å®é™…: ECSå·²ä¼˜åŒ–åˆ°1-2åˆ†é’Ÿï¼Œä½†å…¶ä»–ä»éœ€5-8åˆ†é’Ÿ
   - çŠ¶æ€: éƒ¨åˆ†è¿‡æ—¶

---

## 5. ä¼˜åŒ–æ–¹æ¡ˆ

### 5.1 æ€§èƒ½ä¼˜åŒ–ï¼ˆæ ¸å¿ƒä¼˜å…ˆçº§ï¼‰

#### æ–¹æ¡ˆ1: å…¨é¢å¯ç”¨å¹¶å‘å¤„ç† ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥

**ç›®æ ‡**: 7ä¸ªåˆ†æå™¨æ€§èƒ½æå‡10å€

**å®æ–½æ­¥éª¤**ï¼š

**ç¬¬1æ­¥**: åˆ›å»ºé€šç”¨åŒ…è£…å‡½æ•°æ¨¡æ¿
```python
# æ¯ä¸ªåˆ†æå™¨æ·»åŠ æ­¤æ¨¡æ¿å‡½æ•°
def get_metrics_wrapper(self, region, instance):
    """åŒ…è£…å‡½æ•°ï¼Œç”¨äºå¹¶å‘è°ƒç”¨"""
    try:
        return {
            'instance_id': instance['InstanceId'],
            'metrics': self.get_RESOURCE_metrics(region, instance['InstanceId'])
        }
    except Exception as e:
        self.logger.error(f"è·å–{instance['InstanceId']}ç›‘æ§å¤±è´¥: {e}")
        return None
```

**ç¬¬2æ­¥**: æ”¹é€ RDSåˆ†æå™¨ï¼ˆç¤ºä¾‹ï¼‰
```python
# resource_modules/rds_analyzer.py

# åŸä»£ç ï¼ˆä¸²è¡Œï¼‰- 337è¡Œ
for instance in instances:
    instance_id = instance['InstanceId']
    print(f"  è·å–ç›‘æ§æ•°æ®: {instance_id}")
    metrics = self.get_rds_metrics(region, instance_id)
    all_monitoring_data[instance_id] = metrics

# æ”¹ä¸ºï¼ˆå¹¶å‘ï¼‰
from utils.concurrent_helper import process_concurrently

# ä½¿ç”¨lambdaåˆ›å»ºåŒ…è£…å‡½æ•°
get_metrics_fn = lambda inst: {
    'instance_id': inst['InstanceId'],
    'metrics': self.get_rds_metrics(region, inst['InstanceId'])
}

# å¹¶å‘å¤„ç†
results = process_concurrently(
    instances,
    get_metrics_fn,
    max_workers=10,
    description=f"è·å–{region}åŒºåŸŸRDSç›‘æ§æ•°æ®"
)

# æ•´ç†ç»“æœ
for result in results:
    if result:
        all_monitoring_data[result['instance_id']] = result['metrics']
```

**ç¬¬3æ­¥**: ä¾æ¬¡æ”¹é€ å…¶ä»–6ä¸ªåˆ†æå™¨
- [ ] redis_analyzer.pyï¼ˆåŒæ ·æ¨¡å¼ï¼‰
- [ ] mongodb_analyzer.py
- [ ] clickhouse_analyzer.py
- [ ] oss_analyzer.py
- [ ] slb_analyzer.py
- [ ] eip_analyzer.py

**é¢„æœŸæ•ˆæœ**ï¼š
| åˆ†æå™¨ | æ”¹é€ å‰ | æ”¹é€ å | æå‡ | ä¼˜å…ˆçº§ |
|--------|-------|--------|------|--------|
| RDS | 5åˆ†é’Ÿ | 30ç§’ | 10å€ | â˜…â˜…â˜…â˜…â˜… |
| Redis | 4åˆ†é’Ÿ | 25ç§’ | 9.6å€ | â˜…â˜…â˜…â˜…â˜… |
| MongoDB | 6åˆ†é’Ÿ | 35ç§’ | 10.3å€ | â˜…â˜…â˜…â˜…â˜† |
| ClickHouse | 7åˆ†é’Ÿ | 40ç§’ | 10.5å€ | â˜…â˜…â˜…â˜†â˜† |
| OSS | 3åˆ†é’Ÿ | 20ç§’ | 9å€ | â˜…â˜…â˜…â˜†â˜† |
| SLB | 2åˆ†é’Ÿ | 15ç§’ | 8å€ | â˜…â˜…â˜†â˜†â˜† |
| EIP | 2åˆ†é’Ÿ | 15ç§’ | 8å€ | â˜…â˜…â˜†â˜†â˜† |

**æ³¨æ„äº‹é¡¹**ï¼š
- APIé™æµ: é˜¿é‡Œäº‘ECS APIé™åˆ¶20æ¬¡/ç§’ï¼ŒCMSé™åˆ¶600æ¬¡/åˆ†é’Ÿ
- é”™è¯¯éš”ç¦»: concurrent_helperå·²å®ç°ï¼Œå•ä¸ªå¤±è´¥ä¸å½±å“å…¶ä»–
- è¿›åº¦æ˜¾ç¤º: process_concurrentlyè‡ªå¸¦è¿›åº¦è¾“å‡º

**å·¥ä½œé‡**: 2å¤©ï¼ˆå¹³å‡æ¯ä¸ªåˆ†æå™¨2-3å°æ—¶ï¼‰

#### æ–¹æ¡ˆ2: æ•°æ®åº“æ‰¹é‡æ“ä½œ ğŸ”¥ğŸ”¥ğŸ”¥

**æ”¹é€ æ¨¡æ¿**ï¼š
```python
# æ”¹é€ å‰
for instance in instances:
    cursor.execute("INSERT INTO rds_instances VALUES (?, ?, ?)",
                   (instance['id'], instance['name'], instance['type']))
    conn.commit()

# æ”¹é€ å
data = [(i['id'], i['name'], i['type']) for i in instances]
cursor.executemany("INSERT INTO rds_instances VALUES (?, ?, ?)", data)
conn.commit()  # ä¸€æ¬¡æäº¤
```

**å·¥ä½œé‡**: åŠå¤©

### 5.2 å®‰å…¨ä¼˜åŒ–

#### æ–¹æ¡ˆ3: Pickleæ”¹ä¸ºmsgpack ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥

**æ­¥éª¤**ï¼š
```bash
# 1. å®‰è£…ä¾èµ–
pip install msgpack

# 2. ä¿®æ”¹core/cache_manager.py
```

```python
# core/cache_manager.py
import msgpack  # æ›¿æ¢ import pickle

# ä¿å­˜ç¼“å­˜ (line ~395)
def save(self, data: Any):
    cache_data = {
        'timestamp': time.time(),
        'data': data
    }
    with open(self.cache_path, 'wb') as f:
        msgpack.pack(cache_data, f, use_bin_type=True)  # æ›¿æ¢pickle.dump

# åŠ è½½ç¼“å­˜ (line ~405)
def load(self) -> Optional[Any]:
    if not self.is_valid():
        return None
    try:
        with open(self.cache_path, 'rb') as f:
            cache_data = msgpack.unpack(f, raw=False)  # æ›¿æ¢pickle.load
        return cache_data['data']
    except Exception:
        return None
```

**å‘åå…¼å®¹**ï¼ˆå¯é€‰ï¼‰ï¼š
```python
def load(self) -> Optional[Any]:
    if not self.is_valid():
        return None
    try:
        with open(self.cache_path, 'rb') as f:
            data = f.read()
            # å°è¯•msgpackè§£æ
            try:
                cache_data = msgpack.unpackb(data, raw=False)
            except:
                # é™çº§åˆ°pickleï¼ˆå…¼å®¹æ—§ç¼“å­˜ï¼‰
                cache_data = pickle.loads(data)
        return cache_data['data']
    except Exception:
        return None
```

**ä¼˜åŠ¿**ï¼š
- å®‰å…¨: æ— ä»£ç æ³¨å…¥é£é™©
- å¿«é€Ÿ: æ¯”pickleå¿«2-5å€
- è·¨è¯­è¨€: æ”¯æŒå¤šç§è¯­è¨€è¯»å–
- ä½“ç§¯å°: åºåˆ—åŒ–åä½“ç§¯æ›´å°

**å·¥ä½œé‡**: 1-2å°æ—¶

### 5.3 è´¨é‡ä¼˜åŒ–

#### æ–¹æ¡ˆ4: æ·»åŠ è‡ªåŠ¨åŒ–æµ‹è¯• ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥

**ç¬¬1é˜¶æ®µ: æ ¸å¿ƒæ¨¡å—å•å…ƒæµ‹è¯•ï¼ˆä¼˜å…ˆï¼‰**

**æµ‹è¯•æ¡†æ¶æ­å»º**ï¼š
```bash
# å®‰è£…
pip install pytest pytest-cov pytest-mock

# åˆ›å»ºç›®å½•
mkdir -p tests/{core,resource_modules,utils}
touch tests/__init__.py
```

**ç¤ºä¾‹æµ‹è¯• - CacheManager**ï¼š
```python
# tests/core/test_cache_manager.py
import pytest
import time
from pathlib import Path
from core.cache_manager import CacheManager

@pytest.fixture
def temp_cache_dir(tmp_path):
    """ä¸´æ—¶ç¼“å­˜ç›®å½•"""
    return tmp_path / "cache"

def test_cache_save_and_load(temp_cache_dir):
    """æµ‹è¯•ç¼“å­˜ä¿å­˜å’ŒåŠ è½½"""
    cache = CacheManager(
        'test.cache',
        cache_dir=str(temp_cache_dir)
    )
    test_data = {'key': 'value', 'number': 42}

    cache.save(test_data)
    loaded = cache.load()

    assert loaded == test_data

def test_cache_expiration(temp_cache_dir):
    """æµ‹è¯•ç¼“å­˜è¿‡æœŸ"""
    cache = CacheManager(
        'test.cache',
        ttl_hours=0.001,  # 3.6ç§’è¿‡æœŸ
        cache_dir=str(temp_cache_dir)
    )
    cache.save({'key': 'value'})

    time.sleep(4)  # ç­‰å¾…è¿‡æœŸ

    assert cache.is_valid() == False
    assert cache.load() is None

def test_cache_invalid_data(temp_cache_dir):
    """æµ‹è¯•æŸåçš„ç¼“å­˜æ–‡ä»¶"""
    cache = CacheManager('test.cache', cache_dir=str(temp_cache_dir))
    cache_file = Path(temp_cache_dir) / 'test.cache'

    # å†™å…¥æ— æ•ˆæ•°æ®
    cache_file.parent.mkdir(parents=True, exist_ok=True)
    cache_file.write_bytes(b'invalid data')

    # åº”è¯¥è¿”å›Noneè€Œä¸æ˜¯æŠ›å¼‚å¸¸
    assert cache.load() is None
```

**ç¤ºä¾‹æµ‹è¯• - RDSåˆ†æå™¨**ï¼š
```python
# tests/resource_modules/test_rds_analyzer.py
import pytest
from unittest.mock import Mock, patch, MagicMock
from resource_modules.rds_analyzer import RDSAnalyzer

@pytest.fixture
def mock_client():
    """Mocké˜¿é‡Œäº‘å®¢æˆ·ç«¯"""
    with patch('resource_modules.rds_analyzer.AcsClient') as mock:
        yield mock

@pytest.fixture
def analyzer(mock_client):
    """RDSåˆ†æå™¨å®ä¾‹"""
    return RDSAnalyzer('test_ak', 'test_sk')

def test_is_rds_idle_high_cpu(analyzer):
    """æµ‹è¯•é«˜CPUæ—¶ä¸é—²ç½®"""
    metrics = {
        'CPUåˆ©ç”¨ç‡': 50,  # é«˜äº10%é˜ˆå€¼
        'å†…å­˜åˆ©ç”¨ç‡': 15,
        'QPS': 50
    }

    is_idle, conditions = analyzer.is_rds_idle(metrics)

    assert is_idle == False

def test_is_rds_idle_low_cpu(analyzer):
    """æµ‹è¯•ä½CPUæ—¶é—²ç½®"""
    metrics = {
        'CPUåˆ©ç”¨ç‡': 5,   # ä½äº10%é˜ˆå€¼
        'å†…å­˜åˆ©ç”¨ç‡': 50,
        'QPS': 500
    }

    is_idle, conditions = analyzer.is_rds_idle(metrics)

    assert is_idle == True
    assert 'åˆ©ç”¨ç‡(5' in ' '.join(conditions)

@patch('resource_modules.rds_analyzer.AcsClient')
def test_get_rds_instances(mock_client_class):
    """æµ‹è¯•è·å–RDSå®ä¾‹åˆ—è¡¨"""
    # Mock APIå“åº”
    mock_response = {
        'Items': {
            'DBInstance': [
                {
                    'DBInstanceId': 'rds-test-001',
                    'DBInstanceDescription': 'Test RDS',
                    'DBInstanceType': 'Primary',
                    'Engine': 'MySQL',
                    'EngineVersion': '5.7',
                    'DBInstanceClass': 'mysql.n2.small.1',
                    'RegionId': 'cn-beijing',
                    'DBInstanceStatus': 'Running',
                    'CreateTime': '2023-01-01T00:00:00Z',
                    'ExpireTime': '2024-01-01T00:00:00Z'
                }
            ]
        }
    }

    mock_instance = Mock()
    mock_instance.do_action_with_exception.return_value = json.dumps(mock_response)
    mock_client_class.return_value = mock_instance

    analyzer = RDSAnalyzer('test_ak', 'test_sk')
    instances = analyzer.get_rds_instances('cn-beijing')

    assert len(instances) == 1
    assert instances[0]['InstanceId'] == 'rds-test-001'
    assert instances[0]['Engine'] == 'MySQL'
```

**æµ‹è¯•è¦†ç›–ç›®æ ‡**ï¼š
```
ç¬¬1é˜¶æ®µï¼ˆ3å¤©ï¼‰:
  - core/cache_manager.py: 70%
  - core/config_manager.py: 70%
  - core/threshold_manager.py: 70%
  - utils/concurrent_helper.py: 60%
  - utils/retry_helper.py: 60%

ç¬¬2é˜¶æ®µï¼ˆ1å‘¨ï¼‰:
  - resource_modules/rds_analyzer.py: 50%
  - resource_modules/redis_analyzer.py: 50%

æ€»ä½“ç›®æ ‡: 50%æµ‹è¯•è¦†ç›–ç‡
```

**CI/CDé…ç½®**ï¼š
```yaml
# .github/workflows/test.yml
name: Tests

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: [3.7, 3.8, 3.9, 3.10, 3.11]

    steps:
    - uses: actions/checkout@v3

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}

    - name: Install dependencies
      run: |
        pip install -r requirements.txt
        pip install pytest pytest-cov pytest-mock

    - name: Run tests
      run: |
        pytest --cov=. --cov-report=xml --cov-report=term

    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3
      with:
        file: ./coverage.xml
```

**å·¥ä½œé‡**:
- ç¬¬1é˜¶æ®µï¼ˆæ ¸å¿ƒæ¨¡å—ï¼‰: 3å¤©
- ç¬¬2é˜¶æ®µï¼ˆåˆ†æå™¨ï¼‰: 1å‘¨
- CI/CDé…ç½®: åŠå¤©

---

## 6. å¼€å‘è®¡åˆ’

### æ’åºåŸåˆ™

1. **æŠ•å…¥äº§å‡ºæ¯”** - ä½æˆæœ¬é«˜å›æŠ¥ä¼˜å…ˆ
2. **é£é™©æ§åˆ¶** - é«˜é£é™©é—®é¢˜ä¼˜å…ˆ
3. **ä¾èµ–å…³ç³»** - æ— ä¾èµ–çš„ä»»åŠ¡ä¼˜å…ˆ
4. **ç”¨æˆ·ä»·å€¼** - ç›´æ¥æå‡ç”¨æˆ·ä½“éªŒä¼˜å…ˆ

**ç¬¦å·è¯´æ˜**ï¼š
- ğŸ”¥ = é«˜æŠ•å…¥äº§å‡ºæ¯”
- âš ï¸ = é«˜é£é™©
- ğŸ’° = ç›´æ¥æˆæœ¬èŠ‚çœ
- ğŸ¯ = ç”¨æˆ·ä»·å€¼é«˜
- â±ï¸ = å·¥ä½œé‡
- ğŸ“… = å»ºè®®æ—¶é—´

---

### P0 - ç«‹å³æ‰§è¡Œï¼ˆæœ¬å‘¨å†…ï¼‰

#### 1. å…¨é¢å¯ç”¨å¹¶å‘å¤„ç† ğŸ”¥ğŸ’°ğŸ¯

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜…â˜…
**å·¥ä½œé‡**: â±ï¸â±ï¸ (2å¤©)
**é£é™©**: ä½
**ä»·å€¼**: æ€§èƒ½æå‡10å€

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] RDSåˆ†æå™¨å¹¶å‘æ”¹é€ ï¼ˆä¼˜å…ˆï¼‰
- [ ] Redisåˆ†æå™¨å¹¶å‘æ”¹é€ 
- [ ] MongoDBåˆ†æå™¨å¹¶å‘æ”¹é€ 
- [ ] ClickHouseåˆ†æå™¨å¹¶å‘æ”¹é€ 
- [ ] OSSåˆ†æå™¨å¹¶å‘æ”¹é€ 
- [ ] SLBåˆ†æå™¨å¹¶å‘æ”¹é€ 
- [ ] EIPåˆ†æå™¨å¹¶å‘æ”¹é€ 

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‰€æœ‰åˆ†æå™¨ä½¿ç”¨concurrent_helper
- âœ… 100å®ä¾‹åˆ†æ < 1åˆ†é’Ÿ
- âœ… å•å®ä¾‹å¤±è´¥ä¸å½±å“å…¶ä»–

---

#### 2. Pickleæ”¹ä¸ºmsgpack ğŸ”¥âš ï¸

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜…â˜…
**å·¥ä½œé‡**: â±ï¸ (åŠå¤©)
**é£é™©**: ä¸­ï¼ˆéœ€è¦æµ‹è¯•ï¼‰
**ä»·å€¼**: æ¶ˆé™¤å®‰å…¨éšæ‚£ + æ€§èƒ½æå‡2-5å€

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] å®‰è£…msgpackä¾èµ–
- [ ] ä¿®æ”¹core/cache_manager.py
- [ ] æ·»åŠ å‘åå…¼å®¹é€»è¾‘
- [ ] æµ‹è¯•ç¼“å­˜è¯»å†™
- [ ] æ¸…ç†æ—§pickleæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‰€æœ‰ç¼“å­˜ä½¿ç”¨msgpack
- âœ… å‘åå…¼å®¹ï¼ˆå¯è¯»æ—§pickleæ–‡ä»¶ï¼‰
- âœ… æ€§èƒ½æµ‹è¯•é€šè¿‡

---

#### 3. å®ŒæˆRedis/MongoDBæŠ˜æ‰£åˆ†æ ğŸ’°ğŸ¯

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜…â˜†
**å·¥ä½œé‡**: â±ï¸ (1å¤©)
**é£é™©**: ä½
**ä»·å€¼**: åŠŸèƒ½å®Œæ•´æ€§

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] æµ‹è¯•RedisæŠ˜æ‰£åˆ†æåŠŸèƒ½
- [ ] æµ‹è¯•MongoDBæŠ˜æ‰£åˆ†æåŠŸèƒ½
- [ ] ä¿®å¤è¾¹ç•Œæƒ…å†µï¼ˆCAN_NOT_FIND_SUBSCRIPTIONï¼‰
- [ ] æäº¤ä»£ç åˆ°Git
- [ ] æ›´æ–°DEVELOPMENT_LOG.mdï¼ˆPhase 6å®Œæˆï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… RedisæŠ˜æ‰£åˆ†æå¯ç”¨
- âœ… MongoDBæŠ˜æ‰£åˆ†æå¯ç”¨
- âœ… ç”Ÿæˆæ­£ç¡®çš„HTML+PDFæŠ¥å‘Š
- âœ… é”™è¯¯å¤„ç†å®Œå–„

---

### P1 - è¿‘æœŸæ‰§è¡Œï¼ˆ2å‘¨å†…ï¼‰

#### 4. æ·»åŠ æ ¸å¿ƒå•å…ƒæµ‹è¯• ğŸ”¥âš ï¸ğŸ¯

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜…â˜…
**å·¥ä½œé‡**: â±ï¸â±ï¸â±ï¸â±ï¸ (4å¤©)
**é£é™©**: ä½
**ä»·å€¼**: é™ä½è´¨é‡é£é™©ï¼Œæ”¯æŒåç»­é‡æ„

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] é…ç½®pytestç¯å¢ƒ
- [ ] core/cache_manager.pyæµ‹è¯•ï¼ˆ15ä¸ªç”¨ä¾‹ï¼‰
- [ ] core/config_manager.pyæµ‹è¯•ï¼ˆ10ä¸ªç”¨ä¾‹ï¼‰
- [ ] core/threshold_manager.pyæµ‹è¯•ï¼ˆ8ä¸ªç”¨ä¾‹ï¼‰
- [ ] utils/concurrent_helper.pyæµ‹è¯•ï¼ˆ8ä¸ªç”¨ä¾‹ï¼‰
- [ ] utils/retry_helper.pyæµ‹è¯•ï¼ˆ10ä¸ªç”¨ä¾‹ï¼‰
- [ ] resource_modules/rds_analyzer.pyé›†æˆæµ‹è¯•ï¼ˆ12ä¸ªç”¨ä¾‹ï¼‰
- [ ] é…ç½®GitHub Actions CI

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ ¸å¿ƒæ¨¡å—æµ‹è¯•è¦†ç›–ç‡ > 70%
- âœ… CIè‡ªåŠ¨è¿è¡Œæµ‹è¯•
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

#### 5. æ•°æ®åº“æ‰¹é‡æ“ä½œä¼˜åŒ– ğŸ”¥ğŸ’°

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜…â˜†
**å·¥ä½œé‡**: â±ï¸ (åŠå¤©)
**é£é™©**: ä½
**ä»·å€¼**: æ•°æ®åº“æ“ä½œæé€Ÿ3-5å€

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] æ”¹é€ RDSåˆ†æå™¨æ•°æ®åº“æ’å…¥
- [ ] æ”¹é€ å…¶ä»–7ä¸ªåˆ†æå™¨
- [ ] æµ‹è¯•æ•°æ®å®Œæ•´æ€§
- [ ] æ€§èƒ½å¯¹æ¯”æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‰€æœ‰åˆ†æå™¨ä½¿ç”¨executemany
- âœ… æ•°æ®å®Œæ•´æ€§éªŒè¯é€šè¿‡
- âœ… æ€§èƒ½æå‡ > 3å€

---

#### 6. æå–å…¬å…±é€»è¾‘ï¼ˆè½»é‡çº§é‡æ„ï¼‰ğŸ”¥

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜…â˜†
**å·¥ä½œé‡**: â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸ (5å¤©)
**é£é™©**: ä¸­ï¼ˆéœ€è¦æµ‹è¯•ï¼‰
**ä»·å€¼**: å‡å°‘ä»£ç é‡å¤40% â†’ 20%

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] åˆ›å»ºutils/monitoring_client.pyï¼ˆç»Ÿä¸€ç›‘æ§æ•°æ®è·å–ï¼‰
- [ ] åˆ›å»ºutils/report_generator.pyï¼ˆç»Ÿä¸€æŠ¥å‘Šç”Ÿæˆï¼‰
- [ ] åˆ›å»ºutils/db_helper.pyï¼ˆç»Ÿä¸€æ•°æ®åº“æ“ä½œï¼‰
- [ ] é€æ­¥è¿ç§»RDSåˆ†æå™¨ä½¿ç”¨å…¬å…±é€»è¾‘
- [ ] é€æ­¥è¿ç§»å…¶ä»–åˆ†æå™¨
- [ ] ä¿æŒå‘åå…¼å®¹

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… ç›‘æ§æ•°æ®è·å–é€»è¾‘ç»Ÿä¸€
- âœ… æŠ¥å‘Šç”Ÿæˆé€»è¾‘ç»Ÿä¸€
- âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- âœ… ä»£ç é‡å¤ç‡ < 20%

---

#### 7. æ›´æ–°æ–‡æ¡£ ğŸ¯

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜…â˜†
**å·¥ä½œé‡**: â±ï¸â±ï¸ (1-2å¤©)
**é£é™©**: æ— 
**ä»·å€¼**: ä¿æŒæ–‡æ¡£ä¸ä»£ç ä¸€è‡´

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] æ›´æ–°README.md
  - [ ] è¡¥å……Redis/MongoDBæŠ˜æ‰£åˆ†æè¯´æ˜
  - [ ] æ·»åŠ æ€§èƒ½ä¼˜åŒ–è¯´æ˜
  - [ ] æ›´æ–°å‘½ä»¤ç¤ºä¾‹
  - [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•ç»“æœ
- [ ] æ›´æ–°DEVELOPMENT_LOG.md
  - [ ] è®°å½•Phase 6å®Œæˆï¼ˆRedis/MongoDBæŠ˜æ‰£ï¼‰
  - [ ] è®°å½•æ€§èƒ½ä¼˜åŒ–ï¼ˆå¹¶å‘ï¼‰
  - [ ] è®°å½•å®‰å…¨ä¼˜åŒ–ï¼ˆmsgpackï¼‰
- [ ] åˆ›å»ºCHANGELOG.md
  - [ ] v2.1.0å˜æ›´è®°å½•ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
  - [ ] v2.0.0å˜æ›´è®°å½•ï¼ˆç°æœ‰åŠŸèƒ½ï¼‰
- [ ] åˆ›å»ºFAQ.md
  - [ ] å¸¸è§é—®é¢˜è§£ç­”
  - [ ] æ•…éšœæ’æŸ¥æŒ‡å—
  - [ ] æ€§èƒ½ä¼˜åŒ–å»ºè®®

**éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ–‡æ¡£ä¸ä»£ç ä¸€è‡´
- âœ… ç”¨æˆ·èƒ½å¿«é€Ÿä¸Šæ‰‹
- âœ… å¸¸è§é—®é¢˜æœ‰è§£ç­”

---

### P2 - ä¸­æœŸæ‰§è¡Œï¼ˆ1ä¸ªæœˆå†…ï¼‰

#### 8. æ·»åŠ è¿›åº¦æ˜¾ç¤º ğŸ¯

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜†â˜†
**å·¥ä½œé‡**: â±ï¸ (åŠå¤©)

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] å®‰è£…tqdmåº“
- [ ] ä¸ºæ‰€æœ‰åˆ†æå™¨æ·»åŠ è¿›åº¦æ¡
- [ ] ç¾åŒ–è¾“å‡ºæ ¼å¼

---

#### 9. SQLiteæ•°æ®åº“åŠ å¯† âš ï¸

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜†â˜†
**å·¥ä½œé‡**: â±ï¸ (1å¤©)

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] è¯„ä¼°åŠ å¯†æ–¹æ¡ˆï¼ˆsqlcipherï¼‰
- [ ] ä¿®æ”¹core/db_manager.py
- [ ] æµ‹è¯•åŠ å¯†æ€§èƒ½å½±å“

---

#### 10. ECSåˆ†æå™¨é‡æ„ ğŸ”¥

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜†â˜†
**å·¥ä½œé‡**: â±ï¸â±ï¸â±ï¸â±ï¸ (4å¤©)

**ä»»åŠ¡æ¸…å•**ï¼š
- [ ] è®¾è®¡resource_modules/ecs_analyzer.py
- [ ] å®ç°æ–°ç‰ˆæœ¬ï¼ˆåŸºäºBaseResourceAnalyzerï¼‰
- [ ] å¹¶è¡Œè¿è¡Œæ–°æ—§ç‰ˆæœ¬å¯¹æ¯”
- [ ] åˆ‡æ¢åˆ°æ–°ç‰ˆæœ¬
- [ ] åˆ é™¤check_ecs_idle_fixed.py

---

### P3 - é•¿æœŸè§„åˆ’ï¼ˆ3ä¸ªæœˆ+ï¼‰

#### 11. æ–°å¢èµ„æºç±»å‹ ğŸ’°

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜†â˜†
æŒ‰é¡ºåºï¼šNATç½‘å…³ > äº‘ç›˜ > å¿«ç…§ > VPN > ACK

---

#### 12. å¤šäº‘æ”¯æŒï¼ˆè…¾è®¯äº‘ï¼‰ğŸ¯

**ä¼˜å…ˆçº§**: â˜…â˜…â˜…â˜†â˜†
**å·¥ä½œé‡**: â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸ (2-3å‘¨)

---

#### 13. Webç•Œé¢ï¼ˆå¯é€‰ï¼‰ğŸ¯

**ä¼˜å…ˆçº§**: â˜…â˜…â˜†â˜†â˜†
**å·¥ä½œé‡**: â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸â±ï¸ (1-2ä¸ªæœˆ)

---

## é™„å½•

### A. å…³é”®æŒ‡æ ‡æ€»ç»“

| æŒ‡æ ‡ | å½“å‰çŠ¶æ€ | ä¼˜åŒ–åç›®æ ‡ | å®Œæˆæ—¶é—´ |
|------|---------|-----------|---------|
| æ€§èƒ½ï¼ˆ100å®ä¾‹ï¼‰ | 5-8åˆ†é’Ÿ | 30-50ç§’ | P0å®Œæˆ |
| å®‰å…¨é£é™© | ä¸­ï¼ˆpickleï¼‰ | ä½ï¼ˆmsgpackï¼‰ | P0å®Œæˆ |
| æµ‹è¯•è¦†ç›–ç‡ | 0% | 50% | P1å®Œæˆ |
| ä»£ç é‡å¤ç‡ | 40% | <20% | P1å®Œæˆ |
| æ–‡æ¡£å‡†ç¡®åº¦ | 85% | 95% | P1å®Œæˆ |

### B. æˆåŠŸæ ‡å‡†

**çŸ­æœŸï¼ˆ1å‘¨ï¼‰**ï¼š
- âœ… æ€§èƒ½æå‡10å€
- âœ… æ¶ˆé™¤å®‰å…¨éšæ‚£
- âœ… Redis/MongoDBæŠ˜æ‰£åˆ†æå®Œæˆ

**ä¸­æœŸï¼ˆ2å‘¨ï¼‰**ï¼š
- âœ… æµ‹è¯•è¦†ç›–ç‡50%
- âœ… ä»£ç é‡å¤ç‡<20%
- âœ… æ–‡æ¡£å®Œå…¨æ›´æ–°

**é•¿æœŸï¼ˆ3ä¸ªæœˆï¼‰**ï¼š
- âœ… æ¶æ„å®Œå…¨ç»Ÿä¸€
- âœ… æ–°å¢3ä¸ªèµ„æºç±»å‹
- âœ… æµ‹è¯•è¦†ç›–ç‡>80%

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-10-29
**ç»´æŠ¤è€…**: é¡¹ç›®å›¢é˜Ÿ
**å®¡æ ¸çŠ¶æ€**: âœ… å·²å®¡æ ¸
